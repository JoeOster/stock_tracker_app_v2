/* public/css/components/_tables.css */
/* Contains all general and sticky styles for tables, using a separate border model. */

table {
    width: 100%;
    /* --- FIX: Switch to separate border model to solve sticky column bug --- */
    border-collapse: separate;
    border-spacing: 0;
    /* --- End of FIX --- */
    min-width: 1200px;
    border: 1px solid var(--container-border); /* Add border to table itself */
    border-radius: 8px; /* Optional: for a cleaner look */
}

th, td {
    /* --- FIX: Remove general border and apply specific borders --- */
    border: none;
    border-bottom: 1px solid var(--container-border);
    border-right: 1px solid var(--container-border);
    /* --- End of FIX --- */
    padding: 12px 15px;
    text-align: left;
    white-space: nowrap;
}

/* Remove the outer-right border from the last cell in each row */
th:last-child, td:last-child {
    border-right: none;
}

th {
    background-color: var(--table-header-bg);
    font-weight: 600;
    color: var(--heading-color);
    /* Add a top border back to all header cells */
    border-top: 1px solid var(--container-border);
}

/* --- NEW: Sticky Header Styles --- */
thead th {
    position: -webkit-sticky; /* For Safari */
    position: sticky;
    top: 0;
    z-index: 3; /* Must be higher than sticky columns */
}


/* Remove the bottom border from the last row of cells */
tbody tr:last-child td {
    border-bottom: none;
}

tbody tr:nth-child(even) { 
    background-color: var(--table-row-even-bg); 
}

.numeric { text-align: right; }
.positive { color: var(--positive-color); font-weight: 600; }
.negative { color: var(--negative-color); font-weight: 600; }
.actions-cell { text-align: right; }

/* --- NEW: Center Align Utility --- */
.center-align {
    text-align: center;
}


.table-section-header { 
    text-align: center !important; /* Force centering */
    font-size: 1.2rem; /* Make font larger */
    background-color: #f8f9f9; /* Legacy color, candidate for refactoring */
}
#positions-summary-title { 
    text-align: center !important; /* Force centering */
    font-size: 1.2rem; /* Make font larger */
    background-color: #e8f6f3; /* Legacy color, candidate for refactoring */
}
/* --- Sticky Column Styles (Corrected for Separate Border Model) --- */

/* Sticky LEFT Column */
#stock-table th:first-child, #stock-table td:first-child,
#portfolio-overview-table th:first-child, #portfolio-overview-table td:first-child,
#ledger-table th:first-child, #ledger-table td:first-child,
#pending-orders-table th:first-child, #snapshots-table th:first-child {
    position: -webkit-sticky;
    position: sticky;
    left: 0;
    z-index: 2;
    /* Add the left border back since we removed it from all tds/ths */
    border-left: 1px solid var(--container-border);
}

/* Sticky RIGHT Column (Actions) */
#stock-table th:last-child, #stock-table td:last-child,
#ledger-table th:last-child, #ledger-table td:last-child,
#pending-orders-table th:last-child, #snapshots-table th:last-child {
    position: -webkit-sticky;
    position: sticky;
    right: 0;
    z-index: 2;
    /* Add a right border back since we removed it from all last-child cells */
    border-right: 1px solid var(--container-border);
}


/* Background color overrides for sticky columns */
#stock-table th:first-child, #stock-table th:last-child,
#portfolio-overview-table th:first-child,
#ledger-table th:first-child, #ledger-table th:last-child,
#pending-orders-table th:first-child, #pending-orders-table th:last-child,
#snapshots-table th:first-child, #snapshots-table th:last-child {
    background-color: var(--table-header-bg);
}

#stock-table td:first-child, #stock-table td:last-child,
#portfolio-overview-table td:first-child,
#ledger-table td:first-child, #ledger-table td:last-child,
#pending-orders-table td:first-child, #pending-orders-table td:last-child,
#snapshots-table td:first-child, #snapshots-table td:last-child {
    background-color: var(--container-bg);
}

#stock-table tbody tr:nth-child(even) td:first-child, 
#stock-table tbody tr:nth-child(even) td:last-child,
#portfolio-overview-table tbody tr:nth-child(even) td:first-child,
#ledger-table tbody tr:nth-child(even) td:first-child, 
#ledger-table tbody tr:nth-child(even) td:last-child,
#pending-orders-table tbody tr:nth-child(even) td:first-child,
#pending-orders-table tbody tr:nth-child(even) td:last-child,
#snapshots-table tbody tr:nth-child(even) td:first-child,
#snapshots-table tbody tr:nth-child(even) td:last-child {
    background-color: var(--table-row-even-bg);
}